[platformio]
;default_envs = xiao-esp32c3
default_envs = xiao-nrf52840-seeed

[env:esp32-c3-devkitm-1]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino

; Upload settings
monitor_speed = 115200
upload_speed = 460800

; Build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DPLATFORM_ESP32

; Dependencies
lib_deps = 

[env:adafruit_feather_nrf52840]
platform = nordicnrf52
board = adafruit_feather_nrf52840
framework = arduino

; Upload settings
monitor_speed = 115200
upload_protocol = nrfutil

; Build flags
build_flags = 
    -DCFG_DEBUG=2
    -DNRF52840_XXAA
    -DPLATFORM_NRF52

; Dependencies
lib_deps = 
    adafruit/Adafruit TinyUSB Library @ ^1.7.0

[env:xiao-esp32c3]
platform = espressif32
board = seeed_xiao_esp32c3
framework = arduino

; Upload settings
monitor_speed = 115200
upload_speed = 460800

; Build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DPLATFORM_ESP32

; Dependencies
lib_deps = 

[env:xiao-nrf52840]
platform = nordicnrf52
board = adafruit_itsybitsy_nrf52840
framework = arduino

; Upload settings
monitor_speed = 115200
upload_protocol = nrfutil

; Build flags
build_flags = 
    -DCFG_DEBUG=2
    -DNRF52840_XXAA
    -DPLATFORM_NRF52

; Library dependency finder settings  
lib_ldf_mode = deep

; Dependencies
; Note: TinyUSB is already included in the Adafruit nRF52 framework
lib_deps = 

; Note: Using adafruit_itsybitsy_nrf52840 as base board for Seeed XIAO nRF52840
; Both boards use nRF52840 chip and are compatible with Adafruit BSP
[env:xiao-nrf52840-seeed]
; Using official Seeed platform for proper XIAO nRF52840 support
platform = https://github.com/Seeed-Studio/platform-seeedboards.git
board = seeed-xiao-afruitnrf52-nrf52840
framework = arduino

; Upload settings
monitor_speed = 115200

; Build flags
build_flags = 
    -DCFG_DEBUG=2
    -DNRF52840_XXAA
    -DPLATFORM_NRF52

; Library dependency finder settings  
lib_ldf_mode = deep